From mhallster+caf_=mark_andrew_hall=fastmail.fm@gmail.com Fri Jun 29 12:27:01 2007
Return-Path: <mhallster+caf_=mark_andrew_hall=fastmail.fm@gmail.com>
Received: from compute1.internal (compute1.internal [10.202.2.41])
	 by store36m.internal (Cyrus v2.3.8-fmsvn11630) with LMTPA;
	 Thu, 28 Jun 2007 20:27:01 -0400
X-Sieve: CMU Sieve 2.3
X-Spam-score: 0.0
X-Spam-hits: BAYES_00 -0.7, SPF_PASS -0.001
X-Spam-source: IP='66.249.90.181', Country='EU', FromHeader='nz', MailFrom='com'
X-Attached: Attached Message
X-Attached: Attached Message
X-Resolved-to: mark_andrew_hall@fastmail.fm
X-Delivered-to: mark_andrew_hall@fastmail.fm
X-Mail-from: mhallster+caf_=mark_andrew_hall=fastmail.fm@gmail.com
Received: from ik-out-1112.google.com (ik-out-1112.google.com [66.249.90.181])
	by mx4.messagingengine.com (Postfix) with ESMTP id DF4CAB1353
	for <mark_andrew_hall@fastmail.fm>; Thu, 28 Jun 2007 20:26:54 -0400 (EDT)
Received: by ik-out-1112.google.com with SMTP id c21so718395ika
        for <mark_andrew_hall@fastmail.fm>; Thu, 28 Jun 2007 17:26:53 -0700 (PDT)
Received: by 10.142.103.6 with SMTP id a6mr146884wfc.1183076812365;
        Thu, 28 Jun 2007 17:26:52 -0700 (PDT)
X-Forwarded-To: mark_andrew_hall@fastmail.fm
X-Forwarded-For: mhallster@gmail.com mark_andrew_hall@fastmail.fm
Delivered-To: mhallster@gmail.com
Received: by 10.142.116.7 with SMTP id o7cs198137wfc;
        Thu, 28 Jun 2007 17:26:52 -0700 (PDT)
Received: by 10.115.94.1 with SMTP id w1mr2074337wal.1183076811977;
        Thu, 28 Jun 2007 17:26:51 -0700 (PDT)
Received: from zombie.scms.waikato.ac.nz (mail.scms.waikato.ac.nz [130.217.241.36])
        by mx.google.com with ESMTP id n22si20200236pof.2007.06.28.17.26.51;
        Thu, 28 Jun 2007 17:26:51 -0700 (PDT)
Received-SPF: pass (google.com: domain of SRS0=Zwt2mF=L5=waikato.ac.nz=fracpete@cs.waikato.ac.nz designates 130.217.241.36 as permitted sender)
Received: from mail by zombie.scms.waikato.ac.nz with spam-scanned (Exim 4.52)
	id 1I44K0-000392-Ar
	for mhall@cs.waikato.ac.nz; Fri, 29 Jun 2007 12:26:49 +1200
Received: from smtp.waikato.ac.nz ([130.217.66.62])
	by zombie.scms.waikato.ac.nz with esmtp (Exim 4.52)
	id 1I44K0-00038y-93
	for mhall@cs.waikato.ac.nz; Fri, 29 Jun 2007 12:26:48 +1200
Received: from [130.217.43.9] (h11009.dynamic.waikato.ac.nz [130.217.43.9])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by clint.its.waikato.ac.nz (Postfix) with ESMTP id 3C8FFE08671
	for <mhall@cs.waikato.ac.nz>; Fri, 29 Jun 2007 12:26:48 +1200 (NZST)
Message-ID: <468451D4.1060703@waikato.ac.nz>
Date: Fri, 29 Jun 2007 12:27:00 +1200
From: Peter Reutemann <fracpete@waikato.ac.nz>
User-Agent: Thunderbird 2.0.0.4 (Windows/20070604)
MIME-Version: 1.0
To: Mark Hall <mhall@cs.waikato.ac.nz>
Subject: Ensemble Selection
Content-Type: multipart/mixed;
 boundary="------------090807080400020406080809"
X-Remote-Spam-Checker-Version: SpamAssassin 3.0.4-gr0 (2005-06-05) on 
	zombie.scms.waikato.ac.nz
X-Remote-Spam-Level: 
X-Remote-Spam-Status: No, score=-5.7 required=3.0 tests=ALL_TRUSTED,AWL,BAYES_00 
	autolearn=ham version=3.0.4-gr0
Status: RO
X-Status: A
Content-Length: 11853
Lines: 285

This is a multi-part message in MIME format.
--------------090807080400020406080809
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

...and some more stuff: Ensemble Selection/Library

I think that Alexander replied to my first email and actually meant that 
it's OK with transferring the copyright of the modifications to the 
Evaluation class ("-no-cv" flag), not ALL of the code.

Since there's still a bug (StackOverFlowError in the property sheet) in 
the Ensemble Selection, I'm currently thinking about removing it from 
the GUI (and also from the Documentation). Haven't heard back from 
Robert Jung for quite a few weeks/months...

Cheers, Peter
-- 
Peter Reutemann, Dept. of Computer Science, University of Waikato, NZ
http://www.cs.waikato.ac.nz/~fracpete/           Ph. +64 (7) 858-5174

--------------090807080400020406080809
Content-Type: message/rfc822;
 name="Attached Message"
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
 filename="Attached Message"

Return-Path: <cyrus@mail.scms.waikato.ac.nz>
Received: from murder ([unix socket])
	 by mail.scms.waikato.ac.nz (Cyrus v2.2.12-Gentoo) with LMTPA;
	 Fri, 19 May 2006 13:36:57 +1200
X-Sieve: CMU Sieve 2.2
Envelope-to: fracpete@cs.waikato.ac.nz
Delivery-date: Fri, 19 May 2006 13:36:57 +1200
Received: from mail by zombie.scms.waikato.ac.nz with spam-scanned (Exim 4.52)
	id 1Fgtv5-00012Z-Ui
	for fracpete@cs.waikato.ac.nz; Fri, 19 May 2006 13:36:57 +1200
Received: from mailserv.waikato.ac.nz ([130.217.66.61])
	by zombie.scms.waikato.ac.nz with esmtp (Exim 4.52)
	id 1Fgtv5-00012V-TE
	for fracpete@cs.waikato.ac.nz; Fri, 19 May 2006 13:36:47 +1200
Received: from jess.its.waikato.ac.nz (mailserv.waikato.ac.nz [130.217.66.61])
	by mailserv.waikato.ac.nz (8.12.10/8.12.10) with ESMTP id k4J1alpA001217
	for <fracpete@cs.waikato.ac.nz>; Fri, 19 May 2006 13:36:47 +1200
Received: (from fracpete@localhost)
	by jess.its.waikato.ac.nz (8.12.10/8.12.10/Submit) id k4J1alx4001216
	for fracpete@cs.waikato.ac.nz; Fri, 19 May 2006 13:36:47 +1200
X-Authentication-Warning: jess.its.waikato.ac.nz: fracpete set sender to <eibe@cs.waikato.ac.nz> using -f
X-Envelope-From: eibe@cs.waikato.ac.nz
X-Envelope-To: <fracpete@waikato.ac.nz>
Received: from zombie.scms.waikato.ac.nz (mail.scms.waikato.ac.nz [130.217.241.36])
	by mailserv.waikato.ac.nz (8.12.10/8.12.10) with ESMTP id k4J1alpA001212
	for <fracpete@waikato.ac.nz>; Fri, 19 May 2006 13:36:47 +1200
Received: from oi.cs.waikato.ac.nz ([130.217.248.62])
	by zombie.scms.waikato.ac.nz with esmtpsa (TLSv1:RC4-SHA:128)
	(Exim 4.52)
	id 1Fgtv5-00012Q-L6; Fri, 19 May 2006 13:36:47 +1200
In-Reply-To: <446D205E.5000501@waikato.ac.nz>
References: <32952.69.207.35.51.1147895626.squirrel@webmail.cornell.edu>    <33679.69.207.35.51.1147895697.squirrel@webmail.cornell.edu>    <D74256A0-C59C-4A85-B6D4-C811282DDD5D@cs.waikato.ac.nz> <32821.69.207.35.51.1147993846.squirrel@webmail.cornell.edu> <446D205E.5000501@waikato.ac.nz>
Mime-Version: 1.0 (Apple Message framework v749.3)
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <C93BE558-B3FB-4E9D-BFE0-9AD3462484CA@cs.waikato.ac.nz>
Cc: Peter Reutemann <fracpete@waikato.ac.nz>
Content-Transfer-Encoding: 7bit
From: Eibe Frank <eibe@cs.waikato.ac.nz>
Subject: Re: Ensemble Selection in WEKA
Date: Fri, 19 May 2006 13:36:30 +1200
To: Robert A Jung <raj34@cornell.edu>, dam68@cornell.edu
X-Mailer: Apple Mail (2.749.3)
X-Spam-Checker-Version: SpamAssassin 3.0.4-gr0 (2005-06-05) on 
	zombie.scms.waikato.ac.nz
X-Spam-Level: 
X-Spam-Status: No, score=-5.4 required=5.0 tests=ALL_TRUSTED,AWL,BAYES_00 
	autolearn=ham version=3.0.4-gr0
X-SPF-Result: 

Correction: not copyright to all your code, just your changes to our  
code (e.g. the Evaluation class).

Cheers,
Eibe

On 19 May 2006, at 13:33, Peter Reutemann wrote:

> Hey guys!
>
> Just one thing I forgot to mention: are you OK with tranferring the  
> copyright of your code to the University of Waikato (you'll be  
> still listed as authors)?
>
> Cheers, Peter
>
> Robert A Jung wrote:
>> OK then, just built and tested successfully with your CVS head and  
>> the
>> junit test seemed to pass.  We also added the new Capability and
>> TechnicalInformation methods.  Now we just need to get our user  
>> manual
>> finished :)
>> Also, there's two changes to Evaluation.java and one change to
>> GenericObjectEditor that we wanted to run by you guys that we  
>> needed to
>> make for EnsembleSelection to work well.  These are the only  
>> changes we
>> need to make outside of our class files.
>> 1 - We needed to add an extra flag to Evaluation.evaulateModel() to
>> prevent it from trying to do cross validation (right now the flag is
>> "nox", but we can change it to anything).
>> Used in conjunction with the -v flag, this lets us train a library  
>> on an
>> Instances object without having to do any prohibitively expensive  
>> training
>> just to get performance estimates.  This really isn't practical if it
>> takes you a week to get a library finished, which it probably  
>> would with
>> our default running on most normal systems with a lot of  
>> datasets :)  Anyway, it's only a couple of lines of code and  
>> should be fairly benign to
>> everyyone else.
>> 2 - We needed to add a method with the following signature to  
>> Evaluation:
>> evaluateModelOnceAndRecordPredictions(double[], Instance instance)
>> For efficiency, we cache the predictions of our classifiers at run  
>> time,
>> but we still need to get merics like ROC, etc... from time to time  
>> and
>> this method lets us do that quickly
>> 3 - We have a custom editor we use to edit our Model lists, Pete  
>> helped us
>> out with it a few months ago.  Anyway, we need to register it with  
>> the
>> GenericObjectEditor.  So we need to add a line to do this in the
>> GenericObjectEditors.registerEditors() method.
>> Let us know if you think any problems with these three changes.
>> Also, how are we supposed to check source in?  Do we need to  
>> establish an
>> account somewhere or can we just commit stuff anonymously?
>> Thanks again,
>> -bob
> -- 
> Peter Reutemann, Dept. of Computer Science, University of Waikato, NZ
> http://www.cs.waikato.ac.nz/~fracpete/     +64 (7) 838-4466 Ext. 5174
>



--------------090807080400020406080809
Content-Type: message/rfc822;
 name="Attached Message"
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
 filename="Attached Message"

Return-Path: <cyrus@mail.scms.waikato.ac.nz>
Received: from murder ([unix socket])
	 by mail.scms.waikato.ac.nz (Cyrus v2.2.12-Gentoo) with LMTPA;
	 Fri, 19 May 2006 15:36:21 +1200
X-Sieve: CMU Sieve 2.2
Envelope-to: fracpete@cs.waikato.ac.nz
Delivery-date: Fri, 19 May 2006 15:36:21 +1200
Received: from mail by zombie.scms.waikato.ac.nz with spam-scanned (Exim 4.52)
	id 1Fgvmj-0007j6-Qz
	for fracpete@cs.waikato.ac.nz; Fri, 19 May 2006 15:36:21 +1200
Received: from mailserv.waikato.ac.nz ([130.217.66.61])
	by zombie.scms.waikato.ac.nz with esmtp (Exim 4.52)
	id 1Fgvmj-0007j2-PH
	for fracpete@cs.waikato.ac.nz; Fri, 19 May 2006 15:36:17 +1200
Received: from jess.its.waikato.ac.nz (mailserv.waikato.ac.nz [130.217.66.61])
	by mailserv.waikato.ac.nz (8.12.10/8.12.10) with ESMTP id k4J3aHpA031569
	for <fracpete@cs.waikato.ac.nz>; Fri, 19 May 2006 15:36:17 +1200
Received: (from fracpete@localhost)
	by jess.its.waikato.ac.nz (8.12.10/8.12.10/Submit) id k4J3aHoU031566
	for fracpete@cs.waikato.ac.nz; Fri, 19 May 2006 15:36:17 +1200
X-Authentication-Warning: jess.its.waikato.ac.nz: fracpete set sender to <dam68@cornell.edu> using -f
X-Envelope-From: dam68@cornell.edu
X-Envelope-To: <fracpete@waikato.ac.nz>
Received: from postoffice10.mail.cornell.edu (postoffice10.mail.cornell.edu [132.236.56.14])
	by mailserv.waikato.ac.nz (8.12.10/8.12.10) with ESMTP id k4J3XLpA028134
	for <fracpete@waikato.ac.nz>; Fri, 19 May 2006 15:33:22 +1200
Received: from webmail.cornell.edu (hermes21.mail.cornell.edu [132.236.56.20])
	by postoffice10.mail.cornell.edu (8.12.10/8.12.6) with ESMTP id k4J3XHca029534;
	Thu, 18 May 2006 23:33:17 -0400 (EDT)
Received: from 69.207.35.51
        by webmail.cornell.edu with HTTP;
        Thu, 18 May 2006 23:33:17 -0400 (EDT)
Message-ID: <33261.69.207.35.51.1148009597.squirrel@webmail.cornell.edu>
In-Reply-To: <446D205E.5000501@waikato.ac.nz>
References: <32952.69.207.35.51.1147895626.squirrel@webmail.cornell.edu>   
    <33679.69.207.35.51.1147895697.squirrel@webmail.cornell.edu>   
    <D74256A0-C59C-4A85-B6D4-C811282DDD5D@cs.waikato.ac.nz>
    <32821.69.207.35.51.1147993846.squirrel@webmail.cornell.edu>
    <446D205E.5000501@waikato.ac.nz>
Date: Thu, 18 May 2006 23:33:17 -0400 (EDT)
Subject: Re: Ensemble Selection in WEKA
From: "David Alexander Michael" <dam68@cornell.edu>
To: "Peter Reutemann" <fracpete@waikato.ac.nz>
Cc: "Robert A Jung" <raj34@cornell.edu>, "Eibe Frank" <eibe@cs.waikato.ac.nz>,
        dam68@cornell.edu
User-Agent: SquirrelMail/1.4.5
MIME-Version: 1.0
Content-Type: text/plain;charset=iso-8859-1
X-Priority: 3 (Normal)
Importance: Normal
X-Spam-Checker-Version: SpamAssassin 3.0.4-gr0 (2005-06-05) on 
	zombie.scms.waikato.ac.nz
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.0.4-gr0
X-SPF-Result: 
Content-Transfer-Encoding: quoted-printable

Certainly, no problem at all.

> Hey guys!
>
> Just one thing I forgot to mention: are you OK with tranferring the
> copyright of your code to the University of Waikato (you'll be still
> listed as authors)?
>
> Cheers, Peter
>
> Robert A Jung wrote:
>> OK then, just built and tested successfully with your CVS head and the
>> junit test seemed to pass.  We also added the new Capability and
>> TechnicalInformation methods.  Now we just need to get our user manual
>> finished :)
>>
>> Also, there's two changes to Evaluation.java and one change to
>> GenericObjectEditor that we wanted to run by you guys that we needed t=
o
>> make for EnsembleSelection to work well.  These are the only changes w=
e
>> need to make outside of our class files.
>>
>> 1 - We needed to add an extra flag to Evaluation.evaulateModel() to
>> prevent it from trying to do cross validation (right now the flag is
>> "nox", but we can change it to anything).
>>
>> Used in conjunction with the -v flag, this lets us train a library on =
an
>> Instances object without having to do any prohibitively expensive
>> training
>> just to get performance estimates.  This really isn't practical if it
>> takes you a week to get a library finished, which it probably would wi=
th
>> our default running on most normal systems with a lot of datasets :)
>> Anyway, it's only a couple of lines of code and should be fairly benig=
n
>> to
>> everyyone else.
>>
>> 2 - We needed to add a method with the following signature to
>> Evaluation:
>> evaluateModelOnceAndRecordPredictions(double[], Instance instance)
>>
>> For efficiency, we cache the predictions of our classifiers at run tim=
e,
>> but we still need to get merics like ROC, etc... from time to time and
>> this method lets us do that quickly
>>
>> 3 - We have a custom editor we use to edit our Model lists, Pete helpe=
d
>> us
>> out with it a few months ago.  Anyway, we need to register it with the
>> GenericObjectEditor.  So we need to add a line to do this in the
>> GenericObjectEditors.registerEditors() method.
>>
>> Let us know if you think any problems with these three changes.
>>
>> Also, how are we supposed to check source in?  Do we need to establish
>> an
>> account somewhere or can we just commit stuff anonymously?
>>
>> Thanks again,
>> -bob
> --
> Peter Reutemann, Dept. of Computer Science, University of Waikato, NZ
> http://www.cs.waikato.ac.nz/~fracpete/     +64 (7) 838-4466 Ext. 5174
>




--------------090807080400020406080809--

From: "Forman, George (data mining)" <george.forman@hp.com>
Date: 24 February 2009 5:04:14 PM
To: Mark Hall <mhall@pentaho.com>
Subject: RE: bug report on Weka v3.6.0 for MathExpression when  
dealing with SparseInstance

Yes, I am.  These are published methods in the literature.

Thanks, Mark.

   George


-----Original Message-----
From: Mark Hall [mailto:mhall@pentaho.com]
Sent: Monday, February 23, 2009 7:36 PM
To: Forman, George (data mining)
Subject: Re: bug report on Weka v3.6.0 for MathExpression when  
dealing with SparseInstance

Hi George,

These methods are in the main trunk now and the Experimenter has been  
updated to make them available. I forgot to ask before - are you OK  
with giving copyright for these changes to the University of Waikato?

Cheers,
Mark.

On 24/02/2009, at 12:27 PM, Forman, George (data mining) wrote:

> Thanks.   Yes, I sent both my methods because I find that weighted
> does not return the same number value as weightedFmeasure().
>
>   George
>
>
> -----Original Message-----
> From: Mark Hall [mailto:mhall@pentaho.com]
> Sent: Monday, February 23, 2009 3:20 PM
> To: Forman, George (data mining)
> Subject: Re: bug report on Weka v3.6.0 for MathExpression when dealing
> with SparseInstance
>
> Hi George,
>
> Looks good. I'll get those in there. Evaluation already has a weighted
> macro-average, so I'll make a note in the javadoc that
> macroFmeasure() is unweighted. I expect you'll be wanting these
> methods made available in the Experimenter's list of metrics too.
>
> Thanks,
> Mark.
>
> On 24/02/2009, at 11:48 AM, Forman, George (data mining) wrote:
>
>> Mark,
>>
>> While I'm at it...I'd like to contribute two additional methods for
>> your class:  weka.classifiers.Evaluation
>>
>>
>>         /** @return Macro-averaged F-measure.  If some classes not
>> present in the test set, they're just skipped (since recall is
>> undefined there anyway) */
>>         public double macroFmeasure() {
>>                 Stats rr = new Stats();
>>                 for (int c = 0; c < m_NumClasses; c++) {
>>                         if (numTruePositives(c)+numFalseNegatives
>> (c) > 0) {// skip if no testing positive cases of this class
>>                                 rr.add(fMeasure(c));
>>                         }
>>                 }
>>                 rr.calculateDerived();
>>                 return rr.mean;
>>         }
>>
>>         /** @return Micro-averaged F-measure.  If some classes not
>> present in the test set, they have no effect.
>>         * Note: if the test set is *single-label*, then this is the
>> same as accuracy.
>>         */
>>         public double microFmeasure() {
>>                 double tp = 0;
>>                 double fn = 0;
>>                 double fp = 0;
>>                 for (int c = 0; c < m_NumClasses; c++) {
>>                         tp += numTruePositives(c);
>>                         fn += numFalseNegatives(c);
>>                         fp += numFalsePositives(c);
>>                 }
>>                 return 2*tp / (2*tp + fn + fp);
>>         }
>>
>>
>> -----Original Message-----
>> From: Mark Hall [mailto:mhall@pentaho.com]
>> Sent: Monday, February 23, 2009 1:36 PM
>> To: Forman, George (data mining)
>> Cc: Eibe Frank
>> Subject: Re: bug report on Weka v3.6.0 for MathExpression when
>> dealing with SparseInstance
>>
>> It's mid-morning here. Not that I'm adverse to morning naps though
>> :-)
>>
>> Cheers,
>> Mark.
>>
>> On 24/02/2009, at 10:30 AM, Forman, George (data mining) wrote:
>>
>>> Man, that was quick!   Don't you guys sleep over there on the other
>>> side of the globe?!
>>>
>>> Thank you,
>>>     George
>>>
>>>
>>
>>
>>
>>
>>
>
